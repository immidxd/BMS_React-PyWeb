{"ast":null,"code":"import React,{useState}from'react';import SearchBar from'../components/common/SearchBar';import RefreshButton from'../components/common/RefreshButton';import FilterPanel from'../components/common/FilterPanel';// Placeholders for SearchBar and RefreshButton\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchBarPlaceholder=()=>/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-gray-200 dark:bg-gray-700 rounded\",children:\"Search Bar Area\"});const RefreshButtonPlaceholder=()=>/*#__PURE__*/_jsx(\"button\",{className:\"p-2 bg-blue-500 text-white rounded hover:bg-blue-600\",children:\"\\uD83D\\uDD04 Refresh\"});const MainLayout=_ref=>{let{children,filterPanelContent,onSearch,onRefresh,isRefreshing=false,onResetFilters,searchPlaceholder}=_ref;const[isFilterPanelOpen,setIsFilterPanelOpen]=useState(false);const toggleFilterPanel=()=>{setIsFilterPanelOpen(!isFilterPanelOpen);};const handleResetFiltersInPanel=()=>{onResetFilters();// Optionally close the panel after resetting, or leave it open\n// setIsFilterPanelOpen(false);\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-layout flex flex-col h-full relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-bar flex flex-col sm:flex-row justify-between items-center gap-4 p-3 mb-4 bg-white dark:bg-gray-800 shadow rounded-lg sticky top-[60px] sm:top-[68px] z-20\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleFilterPanel,\"aria-label\":\"\\u0412\\u0456\\u0434\\u043A\\u0440\\u0438\\u0442\\u0438 \\u0444\\u0456\\u043B\\u044C\\u0442\\u0440\\u0438\",\"aria-expanded\":isFilterPanelOpen,className:\"p-2 rounded-md bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-primary-500 sm:hidden\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 12.414V17a1 1 0 01-1.447.894l-2-1A1 1 0 018 16.002V12.414L3.293 6.707A1 1 0 013 6V3z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"search-area flex-grow w-full sm:w-auto\",children:/*#__PURE__*/_jsx(SearchBar,{onSearch:onSearch,placeholder:searchPlaceholder})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row flex-grow gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden sm:block fixed left-0 top-0 bottom-0 w-6 z-30 cursor-pointer\",onMouseEnter:()=>setIsFilterPanelOpen(true)// onMouseLeave={() => setIsFilterPanelOpen(false)} // Might be too aggressive\n}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-area flex-grow w-full\",children:[children,\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-6 right-6 z-20\",children:/*#__PURE__*/_jsx(RefreshButton,{onClick:onRefresh,isLoading:isRefreshing})}),/*#__PURE__*/_jsx(FilterPanel,{isOpen:isFilterPanelOpen,onClose:()=>setIsFilterPanelOpen(false),onResetFilters:handleResetFiltersInPanel,children:filterPanelContent})]});};export default MainLayout;","map":{"version":3,"names":["React","useState","SearchBar","RefreshButton","FilterPanel","jsx","_jsx","jsxs","_jsxs","SearchBarPlaceholder","className","children","RefreshButtonPlaceholder","MainLayout","_ref","filterPanelContent","onSearch","onRefresh","isRefreshing","onResetFilters","searchPlaceholder","isFilterPanelOpen","setIsFilterPanelOpen","toggleFilterPanel","handleResetFiltersInPanel","onClick","xmlns","viewBox","fill","fillRule","d","clipRule","placeholder","onMouseEnter","isLoading","isOpen","onClose"],"sources":["/Users/i.malashenko/Desktop/react-fastapi-app/frontend/src/layouts/MainLayout.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport SearchBar from '../components/common/SearchBar';\nimport RefreshButton from '../components/common/RefreshButton';\nimport FilterPanel from '../components/common/FilterPanel';\n\n// Placeholders for SearchBar and RefreshButton\nconst SearchBarPlaceholder: React.FC = () => (\n  <div className=\"p-2 bg-gray-200 dark:bg-gray-700 rounded\">Search Bar Area</div>\n);\n\nconst RefreshButtonPlaceholder: React.FC = () => (\n  <button className=\"p-2 bg-blue-500 text-white rounded hover:bg-blue-600\">\n    ðŸ”„ Refresh\n  </button>\n);\n\ninterface MainLayoutProps {\n  children: React.ReactNode;\n  filterPanelContent: React.ReactNode;\n  onSearch: (searchTerm: string) => void;\n  onRefresh: () => void;\n  isRefreshing?: boolean;\n  onResetFilters: () => void;\n  searchPlaceholder?: string;\n}\n\nconst MainLayout: React.FC<MainLayoutProps> = ({\n  children,\n  filterPanelContent,\n  onSearch,\n  onRefresh,\n  isRefreshing = false,\n  onResetFilters,\n  searchPlaceholder\n}) => {\n  const [isFilterPanelOpen, setIsFilterPanelOpen] = useState(false);\n\n  const toggleFilterPanel = () => {\n    setIsFilterPanelOpen(!isFilterPanelOpen);\n  };\n\n  const handleResetFiltersInPanel = () => {\n    onResetFilters();\n    // Optionally close the panel after resetting, or leave it open\n    // setIsFilterPanelOpen(false);\n  };\n\n  return (\n    <div className=\"main-layout flex flex-col h-full relative\">\n      {/* Top bar for Search and other global actions for the tab view */}\n      <div className=\"top-bar flex flex-col sm:flex-row justify-between items-center gap-4 p-3 mb-4 bg-white dark:bg-gray-800 shadow rounded-lg sticky top-[60px] sm:top-[68px] z-20\">\n        {/* Adjusted top based on header height in App.tsx */}\n        <button \n          onClick={toggleFilterPanel}\n          aria-label=\"Ð’Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ð¸ Ñ„Ñ–Ð»ÑŒÑ‚Ñ€Ð¸\"\n          aria-expanded={isFilterPanelOpen}\n          className=\"p-2 rounded-md bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-primary-500 sm:hidden\"\n        >\n          {/* Filter Icon - Using a simple SVG for now */}\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 12.414V17a1 1 0 01-1.447.894l-2-1A1 1 0 018 16.002V12.414L3.293 6.707A1 1 0 013 6V3z\" clipRule=\"evenodd\" />\n          </svg>\n        </button>\n        <div className=\"search-area flex-grow w-full sm:w-auto\">\n          <SearchBar onSearch={onSearch} placeholder={searchPlaceholder} />\n        </div>\n        {/* Other global actions for the tab can go here if needed */}\n      </div>\n\n      <div className=\"flex flex-row flex-grow gap-4\">\n        {/* Desktop: Static Filter Panel Trigger (optional, if we want a visible button always) */}\n        {/* For now, filter panel is toggled by the button in top-bar for mobile, and hover for desktop */}\n        {/* We need a mechanism to trigger the panel open from the left side on hover for desktop */}\n        {/* This hover trigger area could be a thin, almost invisible div on the left */}\n        <div \n          className=\"hidden sm:block fixed left-0 top-0 bottom-0 w-6 z-30 cursor-pointer\"\n          onMouseEnter={() => setIsFilterPanelOpen(true)}\n          // onMouseLeave={() => setIsFilterPanelOpen(false)} // Might be too aggressive\n        >\n          {/* Can add a subtle visual cue here if needed */}\n        </div>\n\n        {/* Content Area where the table and specific tab controls will reside */}\n        <div className=\"content-area flex-grow w-full\">\n          {children} {/* This is where ProductsPage, OrdersPage content will render */}\n        </div>\n      </div>\n      \n      {/* Fixed Refresh Button - bottom right */}\n      <div className=\"fixed bottom-6 right-6 z-20\">\n        <RefreshButton onClick={onRefresh} isLoading={isRefreshing} />\n      </div>\n\n      {/* FilterPanel itself */}\n      <FilterPanel \n        isOpen={isFilterPanelOpen} \n        onClose={() => setIsFilterPanelOpen(false)} \n        onResetFilters={handleResetFiltersInPanel}\n      >\n        {filterPanelContent}\n      </FilterPanel>\n    </div>\n  );\n};\n\nexport default MainLayout; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,SAAS,KAAM,gCAAgC,CACtD,MAAO,CAAAC,aAAa,KAAM,oCAAoC,CAC9D,MAAO,CAAAC,WAAW,KAAM,kCAAkC,CAE1D;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,oBAA8B,CAAGA,CAAA,gBACrCH,IAAA,QAAKI,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,iBAAe,CAAK,CAC/E,CAED,KAAM,CAAAC,wBAAkC,CAAGA,CAAA,gBACzCN,IAAA,WAAQI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAAC,sBAEzE,CAAQ,CACT,CAYD,KAAM,CAAAE,UAAqC,CAAGC,IAAA,EAQxC,IARyC,CAC7CH,QAAQ,CACRI,kBAAkB,CAClBC,QAAQ,CACRC,SAAS,CACTC,YAAY,CAAG,KAAK,CACpBC,cAAc,CACdC,iBACF,CAAC,CAAAN,IAAA,CACC,KAAM,CAACO,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGrB,QAAQ,CAAC,KAAK,CAAC,CAEjE,KAAM,CAAAsB,iBAAiB,CAAGA,CAAA,GAAM,CAC9BD,oBAAoB,CAAC,CAACD,iBAAiB,CAAC,CAC1C,CAAC,CAED,KAAM,CAAAG,yBAAyB,CAAGA,CAAA,GAAM,CACtCL,cAAc,CAAC,CAAC,CAChB;AACA;AACF,CAAC,CAED,mBACEX,KAAA,QAAKE,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eAExDH,KAAA,QAAKE,SAAS,CAAC,gKAAgK,CAAAC,QAAA,eAE7KL,IAAA,WACEmB,OAAO,CAAEF,iBAAkB,CAC3B,aAAW,6FAAkB,CAC7B,gBAAeF,iBAAkB,CACjCX,SAAS,CAAC,uNAAuN,CAAAC,QAAA,cAGjOL,IAAA,QAAKoB,KAAK,CAAC,4BAA4B,CAAChB,SAAS,CAAC,SAAS,CAACiB,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAjB,QAAA,cACjGL,IAAA,SAAMuB,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,6IAA6I,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CAC3L,CAAC,CACA,CAAC,cACTzB,IAAA,QAAKI,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrDL,IAAA,CAACJ,SAAS,EAACc,QAAQ,CAAEA,QAAS,CAACgB,WAAW,CAAEZ,iBAAkB,CAAE,CAAC,CAC9D,CAAC,EAEH,CAAC,cAENZ,KAAA,QAAKE,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAK5CL,IAAA,QACEI,SAAS,CAAC,qEAAqE,CAC/EuB,YAAY,CAAEA,CAAA,GAAMX,oBAAoB,CAAC,IAAI,CAC7C;AAAA,CAGG,CAAC,cAGNd,KAAA,QAAKE,SAAS,CAAC,+BAA+B,CAAAC,QAAA,EAC3CA,QAAQ,CAAC,GAAC,EACR,CAAC,EACH,CAAC,cAGNL,IAAA,QAAKI,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAC1CL,IAAA,CAACH,aAAa,EAACsB,OAAO,CAAER,SAAU,CAACiB,SAAS,CAAEhB,YAAa,CAAE,CAAC,CAC3D,CAAC,cAGNZ,IAAA,CAACF,WAAW,EACV+B,MAAM,CAAEd,iBAAkB,CAC1Be,OAAO,CAAEA,CAAA,GAAMd,oBAAoB,CAAC,KAAK,CAAE,CAC3CH,cAAc,CAAEK,yBAA0B,CAAAb,QAAA,CAEzCI,kBAAkB,CACR,CAAC,EACX,CAAC,CAEV,CAAC,CAED,cAAe,CAAAF,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}