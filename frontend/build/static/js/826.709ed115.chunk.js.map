{"version":3,"file":"static/js/826.709ed115.chunk.js","mappings":"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","sources":["pages/ProductsPage.tsx","components/common/RefreshButton.tsx","components/common/FilterPanel.tsx","layouts/MainLayout.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport MainLayout from '../layouts/MainLayout';\n\n// Placeholder for actual filter components for Products\nconst ProductsFilterPanelContent: React.FC = () => {\n  return (\n    <div>\n      <h3 className=\"text-md font-semibold mb-3 text-gray-700 dark:text-gray-200\">Ціна</h3>\n      {/* Placeholder for Price Slider */}\n      <div className=\"p-2 border border-dashed rounded mb-4 h-16 flex items-center justify-center text-sm text-gray-400 dark:text-gray-500\">Price Slider Area</div>\n\n      <h3 className=\"text-md font-semibold mb-3 text-gray-700 dark:text-gray-200\">Заміри (СМ)</h3>\n      <div className=\"p-2 border border-dashed rounded mb-4 h-16 flex items-center justify-center text-sm text-gray-400 dark:text-gray-500\">Measurements Slider Area</div>\n\n      <h3 className=\"text-md font-semibold mb-3 text-gray-700 dark:text-gray-200\">Розмір</h3>\n      <div className=\"p-2 border border-dashed rounded mb-4 h-16 flex items-center justify-center text-sm text-gray-400 dark:text-gray-500\">Size Slider Area</div>\n\n      <h3 className=\"text-md font-semibold mb-2 text-gray-700 dark:text-gray-200\">Бренд</h3>\n      {/* Placeholder for Brand checkboxes with search */}\n      <div className=\"p-2 border border-dashed rounded mb-4 h-24 flex items-center justify-center text-sm text-gray-400 dark:text-gray-500\">Brand Filter Area</div>\n      \n      {/* Add other filter sections (Вид, Модель, Стать, Країна, Постачальник, Стан) as placeholders */}\n      <p className=\"text-xs text-center text-gray-400 dark:text-gray-500\">More filters here...</p>\n    </div>\n  );\n};\n\ninterface ProductsPageProps {\n  currentSearchTerm: string; // Receive search term from App\n}\n\nconst ProductsPage: React.FC<ProductsPageProps> = ({ currentSearchTerm }) => {\n  const [isRefreshing, setIsRefreshing] = useState(false);\n            \n  // Effect to react to global search changes if needed for filtering\n    useEffect(() => {\n    if (currentSearchTerm !== undefined) {\n        console.log('ProductsPage received search term:', currentSearchTerm);\n        // TODO: Implement actual filtering logic based on currentSearchTerm\n            }\n  }, [currentSearchTerm]);\n\n  const handleRefresh = () => {\n    console.log('Refreshing products...');\n    setIsRefreshing(true);\n    setTimeout(() => {\n      setIsRefreshing(false);\n      console.log('Products refreshed!');\n    }, 1500);\n  };\n\n  const handleResetFilters = () => {\n    console.log('Resetting product filters...');\n    // Logic to reset all filter states for products\n    };\n    \n    return (\n    <MainLayout\n      filterPanelContent={<ProductsFilterPanelContent />}\n      onRefresh={handleRefresh}\n      isRefreshing={isRefreshing}\n      onResetFilters={handleResetFilters}\n    >\n      {/* Main content for Products Page */}\n      <div className=\"p-4 bg-white dark:bg-gray-800 shadow-md rounded-lg\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h1 className=\"text-2xl font-semibold text-gray-900 dark:text-gray-100\">Товари</h1>\n          {/* Display the search term received from props */}\n          {currentSearchTerm && <p className='text-sm text-gray-500 dark:text-gray-400'>Активний пошук: \"{currentSearchTerm}\"</p>}\n        </div>\n        \n        {/* Placeholder for ProductsTable */}\n        <div className=\"table-placeholder min-h-[60vh] border border-dashed border-gray-300 dark:border-gray-600 rounded flex justify-center items-center\">\n          <p className=\"text-gray-500 dark:text-gray-400\">Таблиця товарів буде тут</p>\n        </div>\n\n        <div className=\"mt-4 flex items-center\">\n          <input \n            type=\"checkbox\" \n            id=\"show-unsold-products\"\n            className=\"h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500 dark:focus:ring-primary-400 dark:bg-gray-700 dark:border-gray-600\"\n          />\n          <label htmlFor=\"show-unsold-products\" className=\"ml-2 text-sm text-gray-700 dark:text-gray-300\">\n            Показувати тільки непродані\n          </label>\n        </div>\n      </div>\n    </MainLayout>\n    );\n};\n\nexport default ProductsPage; ","import React from 'react';\n\ninterface RefreshButtonProps {\n  onClick: () => void;\n  isLoading?: boolean;\n  label?: string;\n}\n\nconst RefreshButton: React.FC<RefreshButtonProps> = ({\n  onClick,\n  isLoading = false,\n  label = \"Оновити дані\"\n}) => {\n  return (\n    <button\n      onClick={onClick}\n      disabled={isLoading}\n      aria-label={label}\n      className={`p-2 rounded-full flex items-center justify-center \n                 bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700 \n                 text-white transition-all duration-150 ease-in-out \n                 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800\n                 disabled:opacity-50 disabled:cursor-not-allowed \n                 transform hover:scale-105 active:scale-95`}\n    >\n      {isLoading ? (\n        <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n      ) : (\n        // Refresh Icon SVG (Unicode U+1F504 might not render consistently, so SVG is better)\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n          <path fillRule=\"evenodd\" d=\"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z\" clipRule=\"evenodd\" />\n        </svg>\n      )}\n      {/* {label && !isLoading && <span className=\"ml-2\">{label}</span>} */}\n    </button>\n  );\n};\n\nexport default RefreshButton; ","import React from 'react';\n// Removed unused context import to potentially resolve linter issue\n// import { useFilterPanel } from '../contexts/FilterPanelContext'; \n\ninterface FilterPanelProps {\n  isOpen: boolean;\n  onClose: () => void; // Keep onClose prop as MainLayout passes context close function\n  onResetFilters: () => void;\n  children: React.ReactNode; // Specific filters will be passed as children\n  title?: string;\n}\n\nconst FilterPanel: React.FC<FilterPanelProps> = ({\n  isOpen,\n  onClose, // Received from MainLayout (which got it from context)\n  onResetFilters,\n  children,\n  title = \"Фільтри пошуку\"\n}) => {\n  // Can also get controls directly from context if needed here\n  // const { closeFilterPanel } = useFilterPanel(); \n  \n  // Using the passed onClose function (which comes from context via MainLayout)\n  // for both the X button and the mouse leave event.\n\n  return (\n    <>\n      {/* Overlay for when the panel is open */}\n      {isOpen && (\n        <div \n          className=\"fixed inset-0 bg-black bg-opacity-50 z-30 transition-opacity duration-300 ease-in-out md:hidden\"\n          onClick={onClose} // Use onClose from props\n          aria-hidden=\"true\"\n        ></div>\n      )}\n\n      {/* Filter Panel */}\n      <div\n        className={`fixed top-0 left-0 h-full w-72 sm:w-80 bg-white dark:bg-gray-800 shadow-xl z-40\n                   transform transition-transform duration-300 ease-in-out \n                   ${isOpen ? 'translate-x-0' : '-translate-x-full'}`}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby=\"filter-panel-title\"\n        onMouseLeave={onClose} // Use onClose from props\n      >\n        <div className=\"flex flex-col h-full\">\n          {/* Header */}\n          <div className=\"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700\">\n            <h2 id=\"filter-panel-title\" className=\"text-lg font-semibold text-gray-800 dark:text-gray-100\">\n              {title}\n            </h2>\n            <button \n              onClick={onClose} // Use onClose from props\n              aria-label=\"Закрити панель фільтрів\"\n              className=\"p-1 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500\"\n            >\n              {/* Close Icon (X) */}\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          {/* Filter Content Area */}\n          <div className=\"flex-grow p-4 overflow-y-auto space-y-6\">\n            {children}\n          </div>\n\n          {/* Footer / Reset Button */}\n          <div className=\"p-4 border-t border-gray-200 dark:border-gray-700\">\n            <button\n              onClick={onResetFilters}\n              className=\"w-full px-4 py-2 bg-red-500 hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700 text-white rounded-lg font-medium transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-offset-gray-800\"\n            >\n              Скинути фільтри пошуку\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default FilterPanel; ","import React, { useState } from 'react';\nimport RefreshButton from '../components/common/RefreshButton';\nimport FilterPanel from '../components/common/FilterPanel';\nimport { useFilterPanel } from '../contexts/FilterPanelContext';\nimport { ParsingDialog } from '../components/ParsingDialog';\nimport { ParsingStatus } from '../components/ParsingStatus';\n\ninterface MainLayoutProps {\n  children: React.ReactNode;\n  filterPanelContent: React.ReactNode;\n  onRefresh: () => void;\n  isRefreshing?: boolean;\n  onResetFilters: () => void;\n}\n\nconst MainLayout: React.FC<MainLayoutProps> = ({\n  children,\n  filterPanelContent,\n  onRefresh,\n  isRefreshing = false,\n  onResetFilters,\n}) => {\n  const { isFilterPanelOpen, openFilterPanel, closeFilterPanel } = useFilterPanel();\n  const [parsingDialogOpen, setParsingDialogOpen] = useState(false);\n\n  const handleRefreshClick = () => {\n    setParsingDialogOpen(true);\n  };\n\n  const handleStartParsing = async (mode: string, params: any) => {\n    try {\n      const response = await fetch('/api/parsing/parsing/start', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ mode, params }),\n      });\n      \n      if (!response.ok) {\n        throw new Error('Failed to start parsing');\n      }\n    } catch (error) {\n      console.error('Error starting parsing:', error);\n    }\n  };\n\n  return (\n    <div className=\"main-layout flex flex-col h-full\">\n      <div className=\"flex flex-row flex-grow gap-4\">\n        <div \n          className=\"hidden sm:block fixed left-0 top-0 bottom-0 w-4 z-30 cursor-pointer\"\n          onMouseEnter={openFilterPanel}\n        >\n          <div className=\"h-full w-px bg-gray-300 dark:bg-gray-600 opacity-50 hover:opacity-100 transition-opacity\"></div>\n        </div>\n\n        <div className=\"content-area flex-grow w-full\">\n          {children}\n        </div>\n      </div>\n      \n      <div className=\"fixed bottom-6 right-6 z-20\">\n        <RefreshButton onClick={handleRefreshClick} isLoading={isRefreshing} />\n      </div>\n\n      <FilterPanel \n        isOpen={isFilterPanelOpen} \n        onClose={closeFilterPanel}\n        onResetFilters={onResetFilters}\n      >\n        {filterPanelContent}\n      </FilterPanel>\n\n      {/* Діалог парсингу */}\n      <ParsingDialog\n        open={parsingDialogOpen}\n        onClose={() => setParsingDialogOpen(false)}\n        onStartParsing={handleStartParsing}\n      />\n\n      {/* Статус парсингу */}\n      <ParsingStatus />\n    </div>\n  );\n};\n\nexport default MainLayout; "],"names":["ProductsFilterPanelContent","_jsxs","children","_jsx","className","_ref","currentSearchTerm","isRefreshing","setIsRefreshing","useState","useEffect","undefined","console","log","MainLayout","filterPanelContent","onRefresh","handleRefresh","setTimeout","onResetFilters","handleResetFilters","type","id","htmlFor","onClick","isLoading","label","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","fillRule","clipRule","isOpen","onClose","title","_Fragment","role","onMouseLeave","strokeLinecap","strokeLinejoin","isFilterPanelOpen","openFilterPanel","closeFilterPanel","useFilterPanel","parsingDialogOpen","setParsingDialogOpen","onMouseEnter","RefreshButton","handleRefreshClick","FilterPanel","ParsingDialog","open","onStartParsing","async","mode","params","fetch","method","headers","body","JSON","stringify","ok","Error","error","ParsingStatus"],"sourceRoot":""}